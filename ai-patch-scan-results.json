{
  "total_files": 22,
  "python_files": 13,
  "js_files": 9,
  "total_findings": 63,
  "findings": [
    {
      "file": "streaming_issues_claude.py",
      "line": 46,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "streaming_chat_with_issues()"
    },
    {
      "file": "streaming_issues_claude.py",
      "line": 46,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "streaming_chat_with_issues()"
    },
    {
      "file": "retry_issues_claude.py",
      "line": 57,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "chat_with_bad_retries()"
    },
    {
      "file": "retry_issues_claude.py",
      "line": 57,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "chat_with_bad_retries()"
    },
    {
      "file": "retry_issues_claude.py",
      "line": 29,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "message = client.messages.create("
    },
    {
      "file": "retry_issues_claude.py",
      "line": 50,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant sleep time instead of exponential backoff",
      "recommendation": "Use exponential backoff: time.sleep(2 ** attempt)",
      "code_snippet": "time.sleep(1)"
    },
    {
      "file": "all_issues.py",
      "line": 41,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "stream = client.chat.completions.create("
    },
    {
      "file": "all_issues.py",
      "line": 41,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "stream = client.chat.completions.create("
    },
    {
      "file": "all_issues.py",
      "line": 67,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant sleep time instead of exponential backoff",
      "recommendation": "Use exponential backoff: time.sleep(2 ** attempt)",
      "code_snippet": "time.sleep(1)"
    },
    {
      "file": "all_issues.py",
      "line": 38,
      "category": "cost",
      "severity": "warning",
      "issue": "Large prompt generation (\u00d7500)",
      "message": "Creating large prompt by multiplying string 500 times",
      "recommendation": "Add prompt size validation and token counting before API calls",
      "code_snippet": "large_prompt = \"Write a detailed analysis of \" + \"AI \" * 500"
    },
    {
      "file": "all_issues.py",
      "line": 41,
      "category": "traceability",
      "severity": "info",
      "issue": "No request ID tracking",
      "message": "API calls without request ID tracking are harder to debug",
      "recommendation": "Log response IDs or add custom request IDs for tracing",
      "code_snippet": "stream = client.chat.completions.create("
    },
    {
      "file": "streaming_issues_gemini.py",
      "line": 47,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "streaming_chat_with_issues()"
    },
    {
      "file": "streaming_issues_gemini.py",
      "line": 47,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "streaming_chat_with_issues()"
    },
    {
      "file": "cost_issues.py",
      "line": 23,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "cost_issues.py",
      "line": 23,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "cost_issues.py",
      "line": 41,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "cost_issues.py",
      "line": 41,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "cost_issues.py",
      "line": 23,
      "category": "traceability",
      "severity": "warning",
      "issue": "Missing idempotency key",
      "message": "API calls without idempotency keys can result in duplicate requests",
      "recommendation": "Add idempotency key in headers to prevent duplicate charges",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "cost_issues.py",
      "line": 21,
      "category": "cost",
      "severity": "warning",
      "issue": "Large prompt generation (\u00d71000)",
      "message": "Creating large prompt by multiplying string 1000 times",
      "recommendation": "Add prompt size validation and token counting before API calls",
      "code_snippet": "large_prompt = \"Write a very long story about \" + \"a cat \" * 1000"
    },
    {
      "file": "cost_issues.py",
      "line": 23,
      "category": "traceability",
      "severity": "info",
      "issue": "No request ID tracking",
      "message": "API calls without request ID tracking are harder to debug",
      "recommendation": "Log response IDs or add custom request IDs for tracing",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "retry_issues.py",
      "line": 51,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "chat_with_bad_retries()"
    },
    {
      "file": "retry_issues.py",
      "line": 51,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "chat_with_bad_retries()"
    },
    {
      "file": "retry_issues.py",
      "line": 24,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "retry_issues.py",
      "line": 24,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "retry_issues.py",
      "line": 44,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant sleep time instead of exponential backoff",
      "recommendation": "Use exponential backoff: time.sleep(2 ** attempt)",
      "code_snippet": "time.sleep(1)"
    },
    {
      "file": "retry_issues.py",
      "line": 24,
      "category": "traceability",
      "severity": "warning",
      "issue": "Missing idempotency key",
      "message": "API calls without idempotency keys can result in duplicate requests",
      "recommendation": "Add idempotency key in headers to prevent duplicate charges",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "retry_issues_gemini.py",
      "line": 56,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "chat_with_bad_retries()"
    },
    {
      "file": "retry_issues_gemini.py",
      "line": 56,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "chat_with_bad_retries()"
    },
    {
      "file": "retry_issues_gemini.py",
      "line": 49,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant sleep time instead of exponential backoff",
      "recommendation": "Use exponential backoff: time.sleep(2 ** attempt)",
      "code_snippet": "time.sleep(1)"
    },
    {
      "file": "traceability_issues_claude.py",
      "line": 28,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "message = client.messages.create("
    },
    {
      "file": "traceability_issues_claude.py",
      "line": 49,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "message1 = client.messages.create("
    },
    {
      "file": "traceability_issues_claude.py",
      "line": 56,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "message2 = client.messages.create("
    },
    {
      "file": "cost_issues_claude.py",
      "line": 28,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "message = client.messages.create("
    },
    {
      "file": "cost_issues_claude.py",
      "line": 45,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "message = client.messages.create("
    },
    {
      "file": "cost_issues_claude.py",
      "line": 26,
      "category": "cost",
      "severity": "warning",
      "issue": "Large prompt generation (\u00d71000)",
      "message": "Creating large prompt by multiplying string 1000 times",
      "recommendation": "Add prompt size validation and token counting before API calls",
      "code_snippet": "large_prompt = \"Write a very long story about \" + \"a cat \" * 1000"
    },
    {
      "file": "cost_issues_claude.py",
      "line": 28,
      "category": "traceability",
      "severity": "info",
      "issue": "No request ID tracking",
      "message": "API calls without request ID tracking are harder to debug",
      "recommendation": "Log response IDs or add custom request IDs for tracing",
      "code_snippet": "message = client.messages.create("
    },
    {
      "file": "streaming_issues.py",
      "line": 25,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "stream = client.chat.completions.create("
    },
    {
      "file": "streaming_issues.py",
      "line": 25,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "stream = client.chat.completions.create("
    },
    {
      "file": "streaming_issues.py",
      "line": 43,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "streaming_chat_with_issues()"
    },
    {
      "file": "streaming_issues.py",
      "line": 43,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "streaming_chat_with_issues()"
    },
    {
      "file": "streaming_issues.py",
      "line": 25,
      "category": "traceability",
      "severity": "warning",
      "issue": "Missing idempotency key",
      "message": "API calls without idempotency keys can result in duplicate requests",
      "recommendation": "Add idempotency key in headers to prevent duplicate charges",
      "code_snippet": "stream = client.chat.completions.create("
    },
    {
      "file": "traceability_issues.py",
      "line": 23,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "traceability_issues.py",
      "line": 23,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "response = client.chat.completions.create("
    },
    {
      "file": "traceability_issues.py",
      "line": 43,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "response1 = client.chat.completions.create("
    },
    {
      "file": "traceability_issues.py",
      "line": 43,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "response1 = client.chat.completions.create("
    },
    {
      "file": "traceability_issues.py",
      "line": 49,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens and cause runaway costs",
      "recommendation": "Add max_tokens parameter (e.g., max_tokens=2048) to limit generation length",
      "code_snippet": "response2 = client.chat.completions.create("
    },
    {
      "file": "traceability_issues.py",
      "line": 49,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout parameter (e.g., timeout=30) to prevent indefinite hangs",
      "code_snippet": "response2 = client.chat.completions.create("
    },
    {
      "file": "cost_issues.js",
      "line": 21,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout option to prevent indefinite hangs",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "cost_issues.js",
      "line": 38,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout option to prevent indefinite hangs",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "cost_issues.js",
      "line": 21,
      "category": "traceability",
      "severity": "warning",
      "issue": "Missing idempotency key",
      "message": "API calls without idempotency keys can result in duplicate requests",
      "recommendation": "Add idempotency key in headers or options",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "streaming_issues.js",
      "line": 23,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens",
      "recommendation": "Add max_tokens or maxTokens parameter to limit generation",
      "code_snippet": "const stream = await client.chat.completions.create({"
    },
    {
      "file": "streaming_issues.js",
      "line": 23,
      "category": "traceability",
      "severity": "warning",
      "issue": "Missing idempotency key",
      "message": "API calls without idempotency keys can result in duplicate requests",
      "recommendation": "Add idempotency key in headers or options",
      "code_snippet": "const stream = await client.chat.completions.create({"
    },
    {
      "file": "all_issues.js",
      "line": 66,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant timeout instead of exponential backoff",
      "recommendation": "Use exponential backoff: Math.pow(2, attempt) * 1000",
      "code_snippet": "await new Promise(resolve => setTimeout(resolve, 1000));"
    },
    {
      "file": "retry_issues_claude.js",
      "line": 48,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant timeout instead of exponential backoff",
      "recommendation": "Use exponential backoff: Math.pow(2, attempt) * 1000",
      "code_snippet": "await new Promise(resolve => setTimeout(resolve, 1000));"
    },
    {
      "file": "retry_issues.js",
      "line": 21,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens",
      "recommendation": "Add max_tokens or maxTokens parameter to limit generation",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "retry_issues.js",
      "line": 41,
      "category": "retries",
      "severity": "warning",
      "issue": "Linear backoff instead of exponential",
      "message": "Using constant timeout instead of exponential backoff",
      "recommendation": "Use exponential backoff: Math.pow(2, attempt) * 1000",
      "code_snippet": "await new Promise(resolve => setTimeout(resolve, 1000));"
    },
    {
      "file": "retry_issues.js",
      "line": 21,
      "category": "traceability",
      "severity": "warning",
      "issue": "Missing idempotency key",
      "message": "API calls without idempotency keys can result in duplicate requests",
      "recommendation": "Add idempotency key in headers or options",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "traceability_issues.js",
      "line": 21,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens",
      "recommendation": "Add max_tokens or maxTokens parameter to limit generation",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "traceability_issues.js",
      "line": 21,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout option to prevent indefinite hangs",
      "code_snippet": "const response = await client.chat.completions.create({"
    },
    {
      "file": "traceability_issues.js",
      "line": 40,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens",
      "recommendation": "Add max_tokens or maxTokens parameter to limit generation",
      "code_snippet": "const response1 = await client.chat.completions.create({"
    },
    {
      "file": "traceability_issues.js",
      "line": 40,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout option to prevent indefinite hangs",
      "code_snippet": "const response1 = await client.chat.completions.create({"
    },
    {
      "file": "traceability_issues.js",
      "line": 46,
      "category": "cost",
      "severity": "warning",
      "issue": "Missing max_tokens parameter",
      "message": "API call without max_tokens limit can generate unlimited tokens",
      "recommendation": "Add max_tokens or maxTokens parameter to limit generation",
      "code_snippet": "const response2 = await client.chat.completions.create({"
    },
    {
      "file": "traceability_issues.js",
      "line": 46,
      "category": "streaming",
      "severity": "warning",
      "issue": "Missing timeout parameter",
      "message": "API call without timeout can hang indefinitely",
      "recommendation": "Add timeout option to prevent indefinite hangs",
      "code_snippet": "const response2 = await client.chat.completions.create({"
    }
  ]
}